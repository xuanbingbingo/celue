# ğŸš€ è‚¡ç¥¨æ‰«æç³»ç»Ÿéƒ¨ç½²æŒ‡å—

## æ¶æ„è¯´æ˜

ç³»ç»Ÿé‡‡ç”¨**å‰ç«¯å·¥ç¨‹åŒ– + æ¨¡æ¿ç”Ÿæˆ**çš„æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å·¥ç¨‹ (frontend/)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Components â”‚  â”‚    Pages    â”‚  â”‚    Utils    â”‚              â”‚
â”‚  â”‚  - Header   â”‚  â”‚  - Dashboardâ”‚  â”‚  - clipboardâ”‚              â”‚
â”‚  â”‚  - StageCardsâ”‚ â”‚  - App      â”‚  â”‚  - snapshot â”‚              â”‚
â”‚  â”‚  - StockTableâ”‚ â”‚             â”‚  â”‚             â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚ scripts/build-  â”‚                          â”‚
â”‚                    â”‚   template.js   â”‚                          â”‚
â”‚  è¿è¡Œ: npm run     â”‚  (Node.jsæ„å»º)  â”‚                          â”‚
â”‚        build:templateâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                               â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ report_template â”‚  â—„â”€â”€ ç”Ÿæˆçš„æ¨¡æ¿æ–‡ä»¶
                      â”‚    .html        â”‚      (æ•°æ®å ä½ç¬¦: {{DATA_PLACEHOLDER}})
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Python åç«¯                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  index.py   â”‚  â”‚  api_server â”‚  â”‚  data_tools â”‚              â”‚
â”‚  â”‚  (æ‰«æç¨‹åº)  â”‚  â”‚   .py       â”‚  â”‚   .py       â”‚              â”‚
â”‚  â”‚             â”‚  â”‚  (APIæœåŠ¡)   â”‚  â”‚  (å·¥å…·å‡½æ•°)  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                                  â”‚                     â”‚
â”‚         â”‚  æ³¨å…¥æ•°æ®åˆ°æ¨¡æ¿                    â”‚                     â”‚
â”‚         â”‚  window.scannerData = {...}      â”‚                     â”‚
â”‚         â–¼                                  â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚         scanner_report_ma5.html                      â”‚        â”‚
â”‚  â”‚         scanner_report_volume_breakout.html          â”‚        â”‚
â”‚  â”‚         (æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šæ–‡ä»¶)                          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šé™æ€HTMLç”Ÿæˆï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰

é€‚ç”¨äºä¸ªäººä½¿ç”¨ï¼Œæ— éœ€å¯åŠ¨æœåŠ¡ï¼ŒåŒå‡»å³å¯æ‰“å¼€ã€‚

#### éƒ¨ç½²æ­¥éª¤

```bash
# 1. å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# 2. åˆå§‹åŒ–è‚¡ç¥¨æ•°æ®ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
python3 initData.py

# 3. æ„å»ºå‰ç«¯æ¨¡æ¿ï¼ˆå½“ä¿®æ”¹äº† frontend/ ç›®å½•åéœ€è¦é‡æ–°æ„å»ºï¼‰
cd frontend
npm run build:template

# 4. è¿è¡Œæ‰«æç”ŸæˆHTMLæŠ¥å‘Š
cd ..
python3 index.py --strat ma5
# æˆ–
python3 index.py --strat volume_breakout

# 5. æ‰“å¼€ç”Ÿæˆçš„HTMLæ–‡ä»¶
open scanner_report_ma5.html
```

#### ç›®å½•ç»“æ„
```
celue/
â”œâ”€â”€ frontend/                    # å‰ç«¯å·¥ç¨‹ç›®å½•
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â””â”€â”€ build-template.js   # Node.jsæ„å»ºè„šæœ¬ â­
â”‚   â”œâ”€â”€ index.html              # å…¥å£HTML
â”‚   â””â”€â”€ package.json            # npmé…ç½®
â”œâ”€â”€ report_template.html        # ç”Ÿæˆçš„æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ scanner_report_ma5.html     # ç”Ÿæˆçš„æŠ¥å‘Šï¼ˆç­–ç•¥ä¸€ï¼‰
â”œâ”€â”€ scanner_report_volume_breakout.html  # ç”Ÿæˆçš„æŠ¥å‘Šï¼ˆç­–ç•¥äºŒï¼‰
â”œâ”€â”€ stock_data/                 # è‚¡ç¥¨æ•°æ®
â”œâ”€â”€ concept_cache.json         # æ¦‚å¿µç¼“å­˜
â””â”€â”€ stock_name_cache.json      # è‚¡ç¥¨åç§°ç¼“å­˜
```

---

### æ–¹å¼äºŒï¼šå‰åç«¯åˆ†ç¦»ï¼ˆå¯é€‰ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

é€‚ç”¨äºéœ€è¦å®æ—¶æ•°æ®æ›´æ–°æˆ–å¤šç”¨æˆ·è®¿é—®çš„åœºæ™¯ã€‚

#### 1. åç«¯éƒ¨ç½²ï¼ˆFlask APIï¼‰

```bash
# å®‰è£…Flaskå’ŒCORSæ”¯æŒ
pip install flask flask-cors

# å¯åŠ¨åç«¯æœåŠ¡
python3 api_server.py

# æœåŠ¡å¯åŠ¨åï¼ŒAPIåœ°å€ï¼šhttp://localhost:5000
```

#### 2. å‰ç«¯éƒ¨ç½²ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

```bash
cd frontend
npm install
npm start

# å‰ç«¯åœ°å€ï¼šhttp://localhost:3000
# åç«¯åœ°å€ï¼šhttp://localhost:5000
```

---

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### ä¿®æ”¹å‰ç«¯ä»£ç 

å½“ä½ éœ€è¦ä¿®æ”¹ç•Œé¢æ—¶ï¼š

```bash
# 1. ä¿®æ”¹ frontend/src/ ä¸‹çš„ç»„ä»¶ä»£ç 

# 2. é‡æ–°æ„å»ºæ¨¡æ¿
cd frontend
npm run build:template

# 3. è¿è¡Œæ‰«ææµ‹è¯•
cd ..
python3 index.py --strat ma5
```

### å‰ç«¯å·¥ç¨‹ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.jsx       # å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StageCards.jsx   # é˜¶æ®µå¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ ConceptCloud.jsx # æ¦‚å¿µäº‘
â”‚   â”‚   â”œâ”€â”€ StockTable.jsx   # è‚¡ç¥¨è¡¨æ ¼
â”‚   â”‚   â””â”€â”€ Toast.jsx        # æç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Dashboard.jsx    # ä¸»ä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ clipboard.js     # å¤åˆ¶åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ snapshot.js      # å¿«ç…§åŠŸèƒ½
â”‚   â”œâ”€â”€ App.jsx              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.jsx             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build-template.js    # Node.jsæ„å»ºè„šæœ¬
â”œâ”€â”€ index.html               # HTMLæ¨¡æ¿
â””â”€â”€ package.json             # ä¾èµ–é…ç½®
```

---

## ğŸ“‹ æ„å»ºåŸç†

### npm run build:template å·¥ä½œæµç¨‹

1. **è¯»å–ç»„ä»¶æ–‡ä»¶**ï¼šä» `frontend/src/components/` è¯»å–æ‰€æœ‰ `.jsx` æ–‡ä»¶
2. **å¤„ç†ä¾èµ–**ï¼šç§»é™¤ `import` å’Œ `export` è¯­å¥
3. **ç”Ÿæˆæ¨¡æ¿**ï¼šå°†å¤„ç†åçš„ä»£ç æ’å…¥åˆ° HTML æ¨¡æ¿ä¸­
4. **è¾“å‡ºæ–‡ä»¶**ï¼šç”Ÿæˆ `report_template.html`

### Python åç«¯å¦‚ä½•ä½¿ç”¨æ¨¡æ¿

```python
# utils/data_tools.py
def generate_report(results, total_scanned, strategy_name='ma5'):
    # 1. æ ¼å¼åŒ–æ•°æ®
    data = {
        'results': formatted_results,
        'strategyName': strategy_name,
        'strategyDisplayName': 'ç­–ç•¥æ˜¾ç¤ºåç§°',
        'totalScanned': total_scanned,
        'totalHit': len(formatted_results)
    }
    
    # 2. è¯»å–æ¨¡æ¿
    with open('report_template.html', 'r') as f:
        template = f.read()
    
    # 3. æ³¨å…¥æ•°æ®ï¼ˆæ›¿æ¢å ä½ç¬¦ï¼‰
    html = template.replace('{{DATA_PLACEHOLDER}}', json.dumps(data))
    
    # 4. ä¿å­˜æŠ¥å‘Š
    with open(f'scanner_report_{strategy_name}.html', 'w') as f:
        f.write(html)
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### é¦–æ¬¡éƒ¨ç½²

```bash
# 1. å…‹éš†ä»£ç 
git clone <your-repo>
cd celue

# 2. å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# 3. åˆå§‹åŒ–æ•°æ®
python3 initData.py

# 4. æ„å»ºå‰ç«¯æ¨¡æ¿
cd frontend
npm run build:template
cd ..

# 5. è¿è¡Œæ‰«æ
python3 index.py --strat ma5
```

### æ—¥å¸¸æ›´æ–°

```bash
# æ›´æ–°è‚¡ç¥¨æ•°æ®
python3 initData.py

# è¿è¡Œæ‰«æï¼ˆç­–ç•¥ä¸€ï¼‰
python3 index.py --strat ma5

# è¿è¡Œæ‰«æï¼ˆç­–ç•¥äºŒï¼‰
python3 index.py --strat volume_breakout
```

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. ä¿®æ”¹å‰ç«¯åæ²¡æœ‰ç”Ÿæ•ˆ

```bash
# éœ€è¦é‡æ–°æ„å»ºæ¨¡æ¿
cd frontend
npm run build:template
```

### 2. æŠ¥å‘Šæ‰“å¼€åæ˜¾ç¤ºç©ºç™½

- æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆéœ€è¦åŠ è½½ CDN èµ„æºï¼šReactã€TailwindCSSï¼‰
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- ç¡®è®¤æ˜¯å¦æ­£ç¡®è¿è¡Œäº† `npm run build:template`

### 3. æ•°æ®æœªæ›´æ–°

```bash
# é‡æ–°åˆå§‹åŒ–æ•°æ®
python3 initData.py

# åŒæ­¥æ¦‚å¿µæ•°æ®
python3 -c "from utils.data_tools import sync_concepts; sync_concepts()"
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ˜¯å¦æ­£ç¡®è¿è¡Œäº† `npm run build:template`
2. `report_template.html` æ˜¯å¦å­˜åœ¨
3. æ•°æ®æ–‡ä»¶ `stock_data/` æ˜¯å¦å®Œæ•´
